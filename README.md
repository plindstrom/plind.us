# plind.us
![Built with Python](https://img.shields.io/badge/Built_with-Python-blue?logo=python)
![GPL-3.0 License](https://img.shields.io/github/license/plindstrom/plind.us)


This repository contains the script used to generate [my web site](https://plind.us/), the web site source files, and the latest build.

My web site is simple, and in keeping with the theme of simplicity, I wanted to use a very basic generator that didn't require the use of markdown or a full templating language.  Full-featured site generators like Hugo or Jekyll are great, but I felt they were more overhead than I needed for my purposes.

If you are also looking for a simple web site generator, you are welcome to use this script and modify it for your needs.

## Directory Structure
The build script uses a directory structure to organize template files (includes), web site files (pages), and static files (static):
- build/template/includes
- build/template/pages
- build/template/static

### Includes Directory
Contains common HTML files that are used throughout the web site.  This would typically consist of things like a header, footer, or a navigation bar.

### Pages Directory
Contains HTML files for your web site.  The same directory structure should be used in this location as your final web site.

### Static Directory
Contains other static files for your web site.  Generally this would include static assets like images, CSS, or scripts.  The same directory structure should be used in this location as your final web site.  No manipulation of files is performed in this location.

### Directory structure example
This is an example of how a simple web site would be structured.  In this example, the web site contains two pages (index.html and about.html) with two templates for a header and a footer.  There are also static files including a CSS file and a logo.

```
build
└── template
    ├── includes
    |   ├── footer.html
    |   └── header.html
    ├── pages
    |   ├── about.html
    |   └── index.html
    └── static
        ├── logo.png
        └── style.css
```

## Variables
A web site is generated by finding and replacing variable placeholders with their actual values.  Variable placeholders are surrounded by curly braces and are prefixed by the placeholder type (e.g. `{cfg:site_name}`).

There are four different types of placeholders:
1. Dynamic variables `{var}`
2. Site configuration variables `{cfg}`
3. Page metadata variables `{meta}`
4. Include page placeholders `{inc}`

### Dynamic Variables
Dynamic variables are not set in static configuration files; rather, they are set when the build script runs.  Currently there is only one type of dynamic variable: `{var:updated}` to show the current date and time (when the site was last updated).

### Site Configuration Variables
Site configuration variables are defined in the cfg.yaml file and are intended to be used throughout the web site.  This would typically include things like the site name, copyright dates, and license type.  Site configuration placeholders should be prefixed with "cfg" and then specify the name of the key defined in the cfg.yaml file.

For example, if `site_name: plind.us` is defined in the cfg.yaml file, you would use the placeholder `{cfg:site_name}` to display "plind.us" on the web site.

### Page Metadata Variables
Page metadata variables are specific to each page on the site, and are defined on the page itself at the top of the file.  The metadata variables should contain information about the page, like the page title or page description.  Page metadata placeholders should be prefixed with "meta" and then specify the metadata key defined in the page.

Metadata is defined on a page by specifying the metadata key and then value.  For example, at the top of about.html you might add:

```
{meta:title=About Me}
{meta:description=Hello!  My name is Peter, and I'm interested in learning more about scripting.}
```

To display the page title, you would use the placeholder `{meta:title}` to display the title "About Me."

### Include Page Placeholders
Include page placeholders will include content from the matching HTML file in the includes directory.  Include page placeholders should be prefixed with "inc" and then specify the filename found in the includes directory.

For example, to include the header.html file on the page, you would use the placeholder `{inc:header.html}`.

## Running the Build Script
Once you have the folder structure built out and the files added to the correct locations, you simply run the build script by executing build.py.  No additional inputs are required at this time.

```
❯ python3 build.py 

-------------------------------------------------
              plind.us Site Builder
-------------------------------------------------

Load site config file cfg.yaml... done.
Copy static files... done.
Generate site pages... 
  (1/2) template/pages/about.html  -->  build/about.html
  (2/2) template/pages/index.html  -->  build/index.html
```
The build script will save the generated web site files to a build directory.  From there you can copy those files to your web server and you're done!
